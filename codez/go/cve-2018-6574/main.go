package main
/*
#cgo linux CFLAGS: -fplugin=./calc.so
#cgo freebsd CFLAGS: -fplugin=./calc.so
#cgo darwin CFLAGS: -fplugin=./calc_darwin.so
#cgo windows CFLAGS: -fplugin=./calc_win.so
*/

// #cgo CFLAGS: -fplugin=./attack.so
// typedef int (*intFunc) ();
//
// int
// bridge_int_func(intFunc f)
// {
//      return f();
// }
//
// int fortytwo()
// {
//      return 42;
// }
import "C"
import "fmt"

func main() {
    f := C.intFunc(C.fortytwo)
    fmt.Println(int(C.bridge_int_func(f)))
    // Output: 42
}
